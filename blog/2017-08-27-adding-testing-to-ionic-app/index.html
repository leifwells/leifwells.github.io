<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Scully 0.0.0">
    <meta charset="utf-8">
    <title>Testing in Ionic: Configure Existing Projects for Testing</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
  <style>html,body{height:100%}body{margin:0;font-family:Lato,sans-serif;line-height:1.4rem}</style><link rel="stylesheet" href="styles.babd960fb2cc5928.css" media="all" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles.babd960fb2cc5928.css"></noscript><style>.main-nav[_ngcontent-spo-c7]   .title-container[_ngcontent-spo-c7]{background-color:#fff;box-shadow:1px 3px 3px #d3d3d3;color:#000;display:flex;flex-direction:column;height:60px;left:0;position:fixed;right:0;text-align:center;text-decoration:none;z-index:999}.main-nav[_ngcontent-spo-c7]   .title-container[_ngcontent-spo-c7]   .title[_ngcontent-spo-c7]{font-size:1.4rem;line-height:1.5rem;margin-top:10px}@media (min-width: 600px){.main-nav[_ngcontent-spo-c7]   .title-container[_ngcontent-spo-c7]   .title[_ngcontent-spo-c7]{font-size:.8rem;line-height:.9rem;margin-top:10px}}.main-nav[_ngcontent-spo-c7]   .title-container[_ngcontent-spo-c7]   .sub-title[_ngcontent-spo-c7]{display:none}@media (min-width: 600px){.main-nav[_ngcontent-spo-c7]   .title-container[_ngcontent-spo-c7]   .sub-title[_ngcontent-spo-c7]{display:inline;font-size:.7rem;line-height:.8rem;margin-top:15px}}@media (min-width: 600px){.main-nav[_ngcontent-spo-c7]   .title-container[_ngcontent-spo-c7]{text-align:center;width:100vw}.main-nav[_ngcontent-spo-c7]   .title-container[_ngcontent-spo-c7]   .title[_ngcontent-spo-c7]{font-size:2rem}}.main-nav[_ngcontent-spo-c7]   .main-container[_ngcontent-spo-c7]{background-color:#fff;padding-top:65px}.main-nav[_ngcontent-spo-c7]   .main-container.dark-theme[_ngcontent-spo-c7]{background-color:#4f4f4f}.main-nav[_ngcontent-spo-c7]   .main-container[_ngcontent-spo-c7]   .page-container[_ngcontent-spo-c7]{background-color:#000;margin:0 15px}@media (min-width: 600px){.main-nav[_ngcontent-spo-c7]   .main-container[_ngcontent-spo-c7]   .page-container[_ngcontent-spo-c7]{margin:0 20%}}.main-nav[_ngcontent-spo-c7]   .main-container[_ngcontent-spo-c7]   .version[_ngcontent-spo-c7]{font-size:.75rem;text-align:center;width:100%}</style><style type="text/css"></style><style>.footer[_ngcontent-spo-c6]   .author-container[_ngcontent-spo-c6]{align-content:center;display:flex;flex-direction:row;justify-content:center;padding:0 15px}.footer[_ngcontent-spo-c6]   .author-container[_ngcontent-spo-c6]   .author-card[_ngcontent-spo-c6]{display:flex;flex-direction:row}.footer[_ngcontent-spo-c6]   .author-container[_ngcontent-spo-c6]   .author-card[_ngcontent-spo-c6]   .title-image-container[_ngcontent-spo-c6]{display:flex;flex-direction:column;padding-top:15px}.footer[_ngcontent-spo-c6]   .author-container[_ngcontent-spo-c6]   .author-card[_ngcontent-spo-c6]   .title-image-container[_ngcontent-spo-c6]   .title[_ngcontent-spo-c6]{text-align:center;width:100%}.footer[_ngcontent-spo-c6]   .author-container[_ngcontent-spo-c6]   .author-card[_ngcontent-spo-c6]   .title-image-container[_ngcontent-spo-c6]   .author[_ngcontent-spo-c6]{display:flex;align-items:center;justify-content:center}.footer[_ngcontent-spo-c6]   .author-container[_ngcontent-spo-c6]   .author-card[_ngcontent-spo-c6]   .title-image-container[_ngcontent-spo-c6]   .author[_ngcontent-spo-c6]   .author-image[_ngcontent-spo-c6]{background-color:#000;background-image:url(/assets/images/2015-08-12_profile_image.png);background-position:center;background-size:cover;border-radius:50%;height:6rem;margin:0;width:6rem}.footer[_ngcontent-spo-c6]   .author-container[_ngcontent-spo-c6]   .author-card[_ngcontent-spo-c6]   .blurb-container[_ngcontent-spo-c6]{margin-top:20px;padding:15px}@media (min-width: 600px){.footer[_ngcontent-spo-c6]   .author-container[_ngcontent-spo-c6]   .author-card[_ngcontent-spo-c6]   .blurb-container[_ngcontent-spo-c6]{width:30vw}}.footer[_ngcontent-spo-c6]   .social-media-container[_ngcontent-spo-c6]{display:flex;align-items:center;justify-content:center;width:100vw}.footer[_ngcontent-spo-c6]   .copyright-container[_ngcontent-spo-c6]{text-align:center;margin:0 10%;width:80%}@media (min-width: 600px){.footer[_ngcontent-spo-c6]   .copyright-container[_ngcontent-spo-c6]{margin:0 25%;width:50%}}.footer[_ngcontent-spo-c6]   .copyright-container[_ngcontent-spo-c6]   p[_ngcontent-spo-c6]{font-size:.6rem;line-height:.8rem;margin:0;padding:0}</style><style>.social-media[_ngcontent-spo-c5]{display:block;margin:0}.social-media[_ngcontent-spo-c5]   .social-icon[_ngcontent-spo-c5]{color:#000}.social-media[_ngcontent-spo-c5]   ul.social-icons[_ngcontent-spo-c5]{margin:0;padding:0}.social-media[_ngcontent-spo-c5]   .social-icons[_ngcontent-spo-c5]   li[_ngcontent-spo-c5]{display:inline;vertical-align:top}.social-media[_ngcontent-spo-c5]   .social-icons[_ngcontent-spo-c5]   a[_ngcontent-spo-c5]{color:#000;text-decoration:none}.social-media[_ngcontent-spo-c5]   .fa-facebook[_ngcontent-spo-c5]{padding:10px 14px;transition:.5s;background-color:#fff}.social-media[_ngcontent-spo-c5]   .fa-facebook[_ngcontent-spo-c5]:hover{background-color:#3d5b99}.social-media[_ngcontent-spo-c5]   .fa-twitter[_ngcontent-spo-c5]{padding:10px 12px;transition:.5s;background-color:#fff}.social-media[_ngcontent-spo-c5]   .fa-twitter[_ngcontent-spo-c5]:hover{background-color:#00aced}.social-media[_ngcontent-spo-c5]   .fa-rss[_ngcontent-spo-c5]{padding:10px 14px;transition:.5s;background-color:#fff}.social-media[_ngcontent-spo-c5]   .fa-rss[_ngcontent-spo-c5]:hover{background-color:#eb8231}.social-media[_ngcontent-spo-c5]   .fa-youtube[_ngcontent-spo-c5]{padding:10px 14px;transition:.5s;background-color:#fff}.social-media[_ngcontent-spo-c5]   .fa-youtube[_ngcontent-spo-c5]:hover{background-color:#e64a41}.social-media[_ngcontent-spo-c5]   .fa-linkedin[_ngcontent-spo-c5]{padding:10px 14px;transition:.5s;background-color:#fff}.social-media[_ngcontent-spo-c5]   .fa-linkedin[_ngcontent-spo-c5]:hover{background-color:#0073a4}.social-media[_ngcontent-spo-c5]   .fa-github[_ngcontent-spo-c5]{padding:10px 14px;transition:.5s;background-color:#fff}.social-media[_ngcontent-spo-c5]   .fa-github[_ngcontent-spo-c5]:hover{background-color:#5a32a3}</style><style>.post-page[_ngcontent-spo-c12]{display:flex;flex-direction:row;height:100%}@media (min-width: 600px){.post-page[_ngcontent-spo-c12]{margin:0 15vw}.post-page[_ngcontent-spo-c12]   img[_ngcontent-spo-c12]{padding:0 25px;width:45vw}}.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]{height:100%;width:100%}@media (min-width: 600px){.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]{min-height:85vh;width:65vw}}.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   .post-title[_ngcontent-spo-c12]{margin:0 15px;font-size:1.5rem;line-height:1.8rem}@media (min-width: 600px){.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   .post-title[_ngcontent-spo-c12]{margin:15px 30px}}.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   .post-date[_ngcontent-spo-c12]{margin:0 15px;font-size:.8rem;line-height:1rem}@media (min-width: 600px){.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   .post-date[_ngcontent-spo-c12]{margin:10px 30px}}.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   .article-body[_ngcontent-spo-c12]{margin:0 15px}@media (min-width: 600px){.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   .article-body[_ngcontent-spo-c12]{padding:0 15px}}.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   .post-image-container[_ngcontent-spo-c12]{background-color:gray;background-position:50% 25%;background-size:cover;height:120px}@media (min-width: 600px){.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   .post-image-container[_ngcontent-spo-c12]{height:14rem}}.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   img[_ngcontent-spo-c12]{height:auto;width:95vw}@media (min-width: 600px){.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   img[_ngcontent-spo-c12]{width:55vw}}.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   img[_ngcontent-spo-c12] + em[_ngcontent-spo-c12]{font-style:normal;display:inherit;text-align:center;font-size:90%}.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   pre[_ngcontent-spo-c12]{background-color:#000;color:#fff;overflow:scroll;padding:15px}.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   blockquote[_ngcontent-spo-c12]{background-color:#dbdbdb;border-left:6px solid #a0a0a0;margin:10px;padding:10px}.post-page[_ngcontent-spo-c12]   .post[_ngcontent-spo-c12]   .twitter-center[_ngcontent-spo-c12]{align-items:center;display:flex;justify-content:center;width:100%}.post-page[_ngcontent-spo-c12]   .side-note-blockquote[_ngcontent-spo-c12]   blockquote[_ngcontent-spo-c12]{background-color:#a0a0a0;border-left:6px solid black}.post-page[_ngcontent-spo-c12]   .side-note-blockquote[_ngcontent-spo-c12]   blockquote[_ngcontent-spo-c12]   p[_ngcontent-spo-c12]{font-size:.9rem}.post-page[_ngcontent-spo-c12]   .pros-cons-blockquote[_ngcontent-spo-c12]   blockquote[_ngcontent-spo-c12]{background-color:#dbdbdb;border-left:40px solid #a0a0a0;margin:10px;min-height:200px;padding:10px;position:relative}.post-page[_ngcontent-spo-c12]   .pros-cons-blockquote[_ngcontent-spo-c12]   blockquote[_ngcontent-spo-c12]   h4[_ngcontent-spo-c12]{background:none;bottom:-30px;color:#fff;font-size:.9rem;left:-32px;position:absolute;text-transform:uppercase;transform-origin:0 0;transform:rotate(-90deg)}.post-page[_ngcontent-spo-c12]   .side-note-blockquote[_ngcontent-spo-c12]   blockquote[_ngcontent-spo-c12]{background-color:#dbdbdb;border-left:40px solid #a0a0a0;position:relative;margin:10px;padding:10px;min-height:200px}.post-page[_ngcontent-spo-c12]   .side-note-blockquote[_ngcontent-spo-c12]   blockquote[_ngcontent-spo-c12]   h4[_ngcontent-spo-c12]{background:none;bottom:-30px;color:#fff;font-size:.9rem;left:-32px;letter-spacing:5px;position:absolute;text-transform:uppercase;transform-origin:0 0;transform:rotate(-90deg)}</style><style>
      :host {
        display: none;
      }
      scully-content {
        display: none;
      }
    </style><meta name="og:title" content="Testing in Ionic: Configure Existing Projects for Testing"><meta name="og:type" content="website"><meta name="og:image" content="/assets/images/2013-08-19_beach.jpg"><meta name="og:image:alt" content="Leif Wells Development Blogorama: Testing in Ionic: Configure Existing Projects for Testing"><meta name="og:description" content="Setting up testing for an Ionic 3 application can be a challenge. This article gives you a step-by-step guide."><meta name="og:url" content="https://leifwells.github.io//blog/2017-08-27-adding-testing-to-ionic-app"><meta name="author" content="Leif Wells"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Testing in Ionic: Configure Existing Projects for Testing"><meta name="twitter:description" content="Setting up testing for an Ionic 3 application can be a challenge. This article gives you a step-by-step guide."><meta name="twitter:image" content="https://leifwells.github.io/assets/images/2013-08-19_beach.jpg"><meta name="twitter:image:alt" content="Leif Wells Development Blogorama: Testing in Ionic: Configure Existing Projects for Testing"><meta name="twitter:site" content="@leifwells"><meta name="twitter:creator" content="@leifwells"><script>window['ScullyIO']='generated';</script><script>window.ScullyIOAngularDisabled = true;</script></head>
  <body scully-version="0.0.0">
    <app-root ng-version="13.2.2"><app-main-nav _nghost-spo-c7=""><div _ngcontent-spo-c7="" class="main-nav"><a _ngcontent-spo-c7="" href="/index.html" class="title-container"><div _ngcontent-spo-c7="" class="title">Leif's Development Blog-o-rama</div><div _ngcontent-spo-c7="" class="sub-title"> This is the place where Leif writes stuff down for other developers to read. Also, it is how he remembers stuff. And things. </div></a><div _ngcontent-spo-c7="" class="main-container"><router-outlet _ngcontent-spo-c7=""></router-outlet><app-blog _nghost-spo-c12=""><div _ngcontent-spo-c12="" class="post-page">
  <article _ngcontent-spo-c12="" class="post">
    <header _ngcontent-spo-c12="">
      <div _ngcontent-spo-c12="" width="{!(isHandset$ | async) ? '630px' : '100vw'}" height="{!(isHandset$ | async) ? '120px' : 'auto'}" class="post-image-container" style="background-image: url(&quot;/assets/images/2013-08-19_beach.jpg&quot;);"></div>
      <h1 _ngcontent-spo-c12="" class="post-title">Testing in Ionic: Configure Existing Projects for Testing</h1>
      <h3 _ngcontent-spo-c12="" class="post-date">
        <i _ngcontent-spo-c12="" class="fa fa-calendar-check-o"></i> Aug 27, 2017
        <span _ngcontent-spo-c12="">| Updated: Sep 6, 2017</span><!---->
      </h3>
    </header>
    <div _ngcontent-spo-c12="" class="article-body">
      <!--scullyContent-begin--><p _ngcontent-spo-c12="">So, you have an existing <a href="http://ionicframework.com/" _ngcontent-spo-c12="">Ionic</a> project and now you want to start unit testing and end-to-end testing it. A great way to configure your existing project for testing is use the <a href="https://github.com/ionic-team/ionic-unit-testing-example" _ngcontent-spo-c12=""><code _ngcontent-spo-c12="">ionic-unit-testing-example</code></a> project on Github. This post will provide you with step-by-step instructions on how to add modules and files from that project into your own project so you may begin testing your project.</p>
<p _ngcontent-spo-c12="">While the name of the project is <code _ngcontent-spo-c12="">ionic-unit-testing-example</code>, the project actually sets up two kinds of testing: unit testing and end-to-end (E2E) testing. For the purposes of this tutorial, unit testing is isolating components for testing, and end-to-end testing automates the browser and simulates user interactivity to allow the testing of how the whole application works.</p>
<p _ngcontent-spo-c12="">Testing and Test Driven Development can be controversial topics in some circles. How you go about testing is up to you and your team. Personally, I believe that you should have both unit tests for your components and E2E tests for your application. How you get there is up to you.</p>
<blockquote _ngcontent-spo-c12="">
<p _ngcontent-spo-c12=""><strong _ngcontent-spo-c12="">Trigger Warning:</strong> Unit testing and end-to-end testing can be challenging and frustrating even for experienced developers. Getting tests to pass can take patience and experience. You should learn as much as possible about testing before beginning your testing practice. Take your time, ask questions of your peers, seek assistance online, and above all, don't let a continuosly failing test get the better of you. You will overcome it.</p>
</blockquote>
<p _ngcontent-spo-c12="">This tutorial was assembled with the following software installed (this information gathered by using the <code _ngcontent-spo-c12="">ionic info</code> command):</p>
<pre _ngcontent-spo-c12=""><code class="language-bash" _ngcontent-spo-c12="">$ ionic info

cli packages: (/Users/leifwells/.nvm/versions/node/v6.11.2/lib/node_modules)

    @ionic/cli-utils  : 1.9.2
    ionic (Ionic CLI) : 3.9.2

local packages:

    @ionic/app-scripts : 2.1.3
    Ionic Framework    : ionic-angular 3.6.0

System:

    Node : v6.11.2
    npm  : 3.10.10
    OS   : macOS Sierra
</code></pre>
<h2 id="step-1-create-a-project-to-test-optional" _ngcontent-spo-c12="">Step 1: Create a Project to Test (Optional)</h2>
<p _ngcontent-spo-c12="">Since we do not know anything about your project, so we will be using an Ionic starter project as our starting point. To create it, open up your terminal application, navigate to the folder where you would like to add a new project, and run the following command:</p>
<pre _ngcontent-spo-c12=""><code class="language-bash" _ngcontent-spo-c12="">ionic start starter-with-testing sidemenu
</code></pre>
<p _ngcontent-spo-c12="">This command will create a directory named <code _ngcontent-spo-c12="">starter-with-testing</code> and install the code for an Ionic application using the side menu template.</p>
<blockquote _ngcontent-spo-c12="">
<p _ngcontent-spo-c12=""><strong _ngcontent-spo-c12="">Please Note:</strong> This step is not necessary if you are adding content to your own project. Since we can't see your project, we needed a point of reference to get these instructions started.</p>
</blockquote>
<p _ngcontent-spo-c12="">Now, navigate your terminal window to the installed folder and run the following command:</p>
<pre _ngcontent-spo-c12=""><code class="language-bash" _ngcontent-spo-c12="">cd starter-with-testing
ionic serve
</code></pre>
<p _ngcontent-spo-c12="">Once you have the application running, you have completed this step.</p>
<h2 id="step-2-get-the-example-code" _ngcontent-spo-c12="">Step 2: Get the Example Code</h2>
<p _ngcontent-spo-c12="">Head over to <a href="https://github.com/ionic-team/ionic-unit-testing-example" _ngcontent-spo-c12=""><code _ngcontent-spo-c12="">ionic-unit-testing-example</code></a> and download the code. You don't need to load or run the project. We'll be moving files and code from that project into our project code.</p>
<p _ngcontent-spo-c12="">You can use the green "Clone or download" to download a .zip file of the project. Click the button to reveal the "Clone with SSH" popover and click on the "Download ZIP" button to begin the process.</p>
<p _ngcontent-spo-c12=""><img src="/assets/images/2017-08-27_clone_or_download.png" alt="Figure 1: The Clone or download popover." _ngcontent-spo-c12=""></p>
<p _ngcontent-spo-c12="">Once the file is downloaded, decompress it and open the containing folder so that it is available when we need it.</p>
<h2 id="step-3-install-required-node-modules" _ngcontent-spo-c12="">Step 3: Install Required Node Modules</h2>
<p _ngcontent-spo-c12="">There are a hand-full of Node modules required for testing to work with and Ionic application and need to be added to our project. While you can install each of these modules separately, we've organized the install process into one handy command:</p>
<pre _ngcontent-spo-c12=""><code class="language-bash" _ngcontent-spo-c12="">npm install --save-dev angular2-template-loader html-loader jasmine jasmine-spec-reporter karma karma-chrome-launcher karma-jasmine karma-jasmine-html-reporter karma-sourcemap-loader karma-webpack karma-coverage-istanbul-reporter istanbul-instrumenter-loader null-loader protractor ts-loader ts-node @types/jasmine @types/node
</code></pre>
<p _ngcontent-spo-c12="">This command adds these modules to the <code _ngcontent-spo-c12="">"devDependencies"</code> node of your project's <code _ngcontent-spo-c12="">package.json</code> file. There are quite a few modules here, but the important modules are <code _ngcontent-spo-c12="">karma</code>, <code _ngcontent-spo-c12="">jasmine</code> and <code _ngcontent-spo-c12="">protractor</code>. <code _ngcontent-spo-c12="">karma</code> is the Karma module which is our testing environment for unit testing. <code _ngcontent-spo-c12="">jasmine</code> is the Jasmine module which is the unit testing framework. <code _ngcontent-spo-c12="">protractor</code> is the Protractor module which is our testing environment for our end-to-end tests. The rest of the modules are utilities that allow this configuration to work.</p>
<h2 id="step-4-add-scripts-to-the-packagejson" _ngcontent-spo-c12="">Step 4: Add Scripts to the <code _ngcontent-spo-c12="">package.json</code></h2>
<p _ngcontent-spo-c12="">There are a couple of scripts that need to be added to the <code _ngcontent-spo-c12="">package.json</code> to make running tests from the command-line possible. Open the <code _ngcontent-spo-c12="">package.json</code> file and add the following scripts to your <code _ngcontent-spo-c12="">"scripts"</code> node:</p>
<pre _ngcontent-spo-c12=""><code class="language-json" _ngcontent-spo-c12="">"test": "karma start ./test-config/karma.conf.js",
"test-ci": "karma start ./test-config/karma.conf.js --single-run",
"test-coverage": "karma start ./test-config/karma.conf.js --coverage",
"e2e": "npm run e2e-update &amp;&amp; npm run e2e-test",
"e2e-test": "protractor ./test-config/protractor.conf.js",
"e2e-update": "webdriver-manager update --standalone false --gecko false"
</code></pre>
<blockquote _ngcontent-spo-c12="">
<p _ngcontent-spo-c12=""><strong _ngcontent-spo-c12="">Important:</strong> Make sure you add a trailing comma on the line above this code or your <code _ngcontent-spo-c12="">package.json</code> will stop working. Your code editor should inform you of the missing comma.</p>
</blockquote>
<p _ngcontent-spo-c12="">With the addition of these items, you will be able to enter the <code _ngcontent-spo-c12="">npm run test</code> command to begin unit testing, or <code _ngcontent-spo-c12="">npm run e2e</code> to begin end-to-end testing.</p>
<h2 id="step-5-add-the-configuration-files" _ngcontent-spo-c12="">Step 5: Add the Configuration Files</h2>
<p _ngcontent-spo-c12="">The control center for this testing configuration are a set of files that are inside the <code _ngcontent-spo-c12="">ionic-unit-testing-example</code> project which need to be added to our project. Open the folder where <code _ngcontent-spo-c12="">ionic-unit-testing-example</code> was decompressed earlier and locate the <code _ngcontent-spo-c12="">test-config</code> folder. Copy and paste that folder into the root of our project.
Open the folder in your code editor and take a look. You should see five files:</p>
<pre _ngcontent-spo-c12=""><code class="language-javascript" _ngcontent-spo-c12="">karma - test - shim.js;
karma - config.js;
mocks - ionic.js;
protractor.conf.js;
webpack.test.js;
</code></pre>
<p _ngcontent-spo-c12="">The <code _ngcontent-spo-c12="">karma-config.js</code> file is the configuration file for Karma. It uses <code _ngcontent-spo-c12="">karma-test-shim.js</code> to link more modules required for testing and <code _ngcontent-spo-c12="">webpack.test.js</code> to configure and compile our code for testing.</p>
<p _ngcontent-spo-c12="">The <code _ngcontent-spo-c12="">protractor.conf.js</code> file is the configuration file for Protractor.</p>
<p _ngcontent-spo-c12="">The <code _ngcontent-spo-c12="">mocks-ionic.js</code> file is a collection of classes that are used to as a substitute for classes in the <code _ngcontent-spo-c12="">ionic-angular</code> module for testing. We will discuss mocking further later in this tutorial.</p>
<h2 id="step-6-adding-end-to-end-testing" _ngcontent-spo-c12="">Step 6: Adding End-to-end Testing</h2>
<p _ngcontent-spo-c12="">Now that our unit testing configuration is set up, we need to add one more folder to our project so we can implement the end-to-end testing solution. Copy the <code _ngcontent-spo-c12="">e2e</code> folder found inside the location where you decompressed .zip file from the <code _ngcontent-spo-c12="">ionic-unit-testing-example</code> and paste that folder into the root of your project. This folder has the following files:</p>
<pre _ngcontent-spo-c12=""><code class="language-javascript" _ngcontent-spo-c12="">app.e2e - spec.ts;
app.po.ts;
tsconfig.json;
</code></pre>
<p _ngcontent-spo-c12="">The <code _ngcontent-spo-c12="">tsconfig.json</code> file is an important configuration file which assists with compiling the project and tests for end-to-end testing. The file is placed here because it isolates it from the project's <code _ngcontent-spo-c12="">tsconfig.json</code> file.</p>
<p _ngcontent-spo-c12="">The <code _ngcontent-spo-c12="">app.e2e-spec.ts</code> file is an actual E2E test file. Note the name of the test as our configuration file is looking for files that have the <code _ngcontent-spo-c12="">.e2e-spec.ts</code> as part of the name to identify it as an E2E test and not an unit test. The <code _ngcontent-spo-c12="">app.po.ts</code> is an example of a page object, a helper file that assists in providing utility methods for locating elements and processing expected results. You can find out <a href="http://www.protractortest.org/#/page-objects" _ngcontent-spo-c12="">more about page objects on the Protractor Website</a>.</p>
<p _ngcontent-spo-c12="">If you are following along with this tutorial, when you run the <code _ngcontent-spo-c12="">npm run e2e</code> command in your terminal window, this test should work. If you run this test with your project, it will probably fail. You will need to update the test to make it work for you.</p>
<blockquote _ngcontent-spo-c12="">
<p _ngcontent-spo-c12=""><strong _ngcontent-spo-c12="">Important:</strong> When you run E2E tests, make sure you are running <code _ngcontent-spo-c12="">ionic serve</code> in another terminal window. The E2E configuration expects to have a connection to the server and if it is not it will fail with an error.</p>
</blockquote>
<h2 id="adding-your-first-unit-test" _ngcontent-spo-c12="">Adding Your First Unit Test</h2>
<p _ngcontent-spo-c12="">Before you can begin testing, you need to have a test file. To make sure the testing configuration is working, we'll add a file to our project to test that the application loads.</p>
<p _ngcontent-spo-c12="">Open the <code _ngcontent-spo-c12="">src/app/</code> folder in your project and create a new file named <code _ngcontent-spo-c12="">app.component.spec.ts</code>. This will be our unit test file for the <code _ngcontent-spo-c12="">MyApp</code> class which is inside the <code _ngcontent-spo-c12="">app.component</code> file. Inside this new file, copy and paste the following code:</p>
<script src="https://gist.github.com/leifwells/d2f5f442dcbd9617f2e3f0572db5ea76.js" _ngcontent-spo-c12=""></script>

<p _ngcontent-spo-c12=""><strong _ngcontent-spo-c12="">This is not a tutorial on how to create tests, but</strong> let's take a brief look at this test code.</p>
<h2 id="angular-testing-utilities" _ngcontent-spo-c12="">Angular Testing Utilities</h2>
<p _ngcontent-spo-c12="">As you can see, the test file has the typical methods for unit testing: <code _ngcontent-spo-c12="">describe</code>, <code _ngcontent-spo-c12="">beforeEach</code>, and <code _ngcontent-spo-c12="">it</code>. Inside the first <code _ngcontent-spo-c12="">beforeEach</code> is a call to the <code _ngcontent-spo-c12="">TestBed</code> object's <code _ngcontent-spo-c12="">configureTestingModule()</code> method. <code _ngcontent-spo-c12="">TestBed</code> is a module provided by the Angular team to facilitate testing. To find out more about testing in Angular, please read the <a href="https://angular.io/guide/testing" _ngcontent-spo-c12="">Angular Testing Guide</a>. Seriously, read that documentation a few times and let it sink in.</p>
<p _ngcontent-spo-c12="">Now, take a look at places where <code _ngcontent-spo-c12="">MyApp</code> is listed. <code _ngcontent-spo-c12="">MyApp</code> is the component being tested here, and appears in the class import, inside the <code _ngcontent-spo-c12="">TestBed.configureTestingModule()</code> method inside the <code _ngcontent-spo-c12="">declarations</code> array, inside the <code _ngcontent-spo-c12="">imports</code> array, and also in the second <code _ngcontent-spo-c12="">beforeEach</code> method when the component is actually created. This is how each of your test files will work.</p>
<p _ngcontent-spo-c12="">The first test, the code inside the first <code _ngcontent-spo-c12="">it</code> instance, checks to see if the <code _ngcontent-spo-c12="">MyApp</code> component is created. The second test checks that the <code _ngcontent-spo-c12="">pages</code> array created in the <code _ngcontent-spo-c12="">MyApp</code> class has two items.</p>
<h2 id="mocking-ionic-classes" _ngcontent-spo-c12="">Mocking Ionic Classes</h2>
<p _ngcontent-spo-c12="">Another note of interest: mocking Ionic classes. With unit testing, developers should try to isolate the component to be tested. If you include the actual classes, technically you would be testing the Ionic framework, which is unnecessary.</p>
<p _ngcontent-spo-c12="">To understand how mocking works, look at the structure of items inside the <code _ngcontent-spo-c12="">providers</code> array. Typically,providers are listed simply by adding the class name to the array. In this case, we are mocking the classes using the <code _ngcontent-spo-c12="">provide</code> property to identify the name of the class to be mocked, and the <code _ngcontent-spo-c12="">useClass</code> property to identify the class to serve as the mock. We are using the mocks provided by the <code _ngcontent-spo-c12="">ionic-unit-testing-example</code> project found in the <code _ngcontent-spo-c12="">test-config/mocks-ionic.ts</code> file mentioned earlier.</p>
<p _ngcontent-spo-c12="">If you choose to not use mocks for Ionic classes, what may happen is that errors will occur running you down a never-ending rabbit hole. Mocking Ionic classes is the best way to avoid this problem.</p>
<h2 id="what-to-expect-when-unit-testing" _ngcontent-spo-c12="">What to Expect When Unit Testing</h2>
<p _ngcontent-spo-c12="">This test is a sample test that will work with the project we are using in this tutorial and may not work for you. If you add this file to your own project and run the <code _ngcontent-spo-c12="">npm run test</code> command, what you may expect is an error stating that <code _ngcontent-spo-c12="">no provider for</code> or <code _ngcontent-spo-c12="">no declaration for</code>, at which point you will import that class into this file, add the class name to the <code _ngcontent-spo-c12="">providers</code> array or the <code _ngcontent-spo-c12="">declarations</code> array inside the <code _ngcontent-spo-c12="">TestBed.configureTestingModule()</code> method argument object.</p>
<p _ngcontent-spo-c12="">You will probably need to create mock classes for your own providers. These mocks should accurately reflect the same methods but return expected values, for instance, mock data instead of data from a server.</p>
<p _ngcontent-spo-c12="">Reviewing the Angular Testing documentation will help you with testing your Ionic application. There are concepts described there that will assist you with testing processes that are asynchronous, as well as best practices to follow.</p>
<blockquote _ngcontent-spo-c12="">
<p _ngcontent-spo-c12=""><strong _ngcontent-spo-c12="">Note:</strong> Sometimes when working on a unit test, you will not find a way to test a particular scenario. The problem may not be your test. It may be your code. Are the methods in your component too complex? Could you refactor your code to make your component more maintanable as well as more testable? Make sure you are looking at both sides, the test and the code you are testing, to ensure you have a successful testing practice.</p>
</blockquote>
<h2 id="reviewing-the-e2e-test" _ngcontent-spo-c12="">Reviewing the E2E Test</h2>
<p _ngcontent-spo-c12="">Earlier, we added the <code _ngcontent-spo-c12="">e2e</code> folder to our project which contained our first E2E test. Let's take a look at it.</p>
<script src="https://gist.github.com/leifwells/266bbd53503eaf2f0d1b9675e8610ef3.js" _ngcontent-spo-c12=""></script>

<p _ngcontent-spo-c12="">Again, we see the typical testing methods of <code _ngcontent-spo-c12="">describe</code>, <code _ngcontent-spo-c12="">beforeEach</code> and <code _ngcontent-spo-c12="">it</code>. One this of note here is the use of a second <code _ngcontent-spo-c12="">describe</code> method. This is used to help with organizing your tests.</p>
<p _ngcontent-spo-c12="">Inside your E2E tests, you will be using Promises. A lot. Good tests will chain Promises. You can find out more about how to structure your tests by reviewing the <a href="http://www.protractortest.org/#/tutorial" _ngcontent-spo-c12="">Protractor Tutorial</a>.</p>
<h2 id="summary" _ngcontent-spo-c12="">Summary</h2>
<p _ngcontent-spo-c12="">In this tutorial, we created an example Ionic (<code _ngcontent-spo-c12="">ionic-angular</code>) project to configure for unit and end-to-end testing. We used the <a href="https://github.com/ionic-team/ionic-unit-testing-example" _ngcontent-spo-c12=""><code _ngcontent-spo-c12="">ionic-unit-testing-example</code></a> project on Github as a guide for installing the necessary node modules and configuration files to the project to get unit testing and E2E testing to work. Then we took a brief look at the test files. Hopefully, this will give you enough information to get you started with testing your own Ionic applications.</p>
<h3 id="links-for-this-article" _ngcontent-spo-c12="">Links for this article:</h3>
<blockquote _ngcontent-spo-c12="">
<p _ngcontent-spo-c12=""><a href="https://github.com/ionic-team/ionic-unit-testing-example" _ngcontent-spo-c12="">ionic-unit-testing-example</a><br _ngcontent-spo-c12=""> &gt; <a href="http://ionicframework.com/" _ngcontent-spo-c12="">Ionic</a><br _ngcontent-spo-c12=""> &gt; <a href="https://angular.io" _ngcontent-spo-c12="">Angular</a><br _ngcontent-spo-c12=""> &gt; <a href="https://angular.io/guide/testing" _ngcontent-spo-c12="">Angular Testing</a><br _ngcontent-spo-c12=""> &gt; <a href="https://karma-runner.github.io/1.0/index.html" _ngcontent-spo-c12="">Karma</a><br _ngcontent-spo-c12=""> &gt; <a href="https://jasmine.github.io/" _ngcontent-spo-c12="">Jasmine</a><br _ngcontent-spo-c12=""> &gt; <a href="http://www.protractortest.org/" _ngcontent-spo-c12="">Protractor</a><br _ngcontent-spo-c12=""></p>
</blockquote>
<h3 id="updates" _ngcontent-spo-c12="">Updates:</h3>
<blockquote _ngcontent-spo-c12="">
<h4 id="2017-09-06-added-code-coverage-feature-steps" _ngcontent-spo-c12=""><strong _ngcontent-spo-c12="">2017-09-06:</strong> Added <a href="/2017/09/05/testing-in-ionic-code-coverage/" _ngcontent-spo-c12="">code coverage feature</a> steps.</h4>
<h4 id="2017-09-02-replaced-two-markdown-code-blocks-with-github-gists" _ngcontent-spo-c12=""><strong _ngcontent-spo-c12="">2017-09-02:</strong> Replaced two Markdown code blocks with Github Gists.</h4>
</blockquote>
<!--scullyContent-end--><scully-content _ngcontent-spo-c12=""></scully-content>
    <script>try {window['scullyContent'] = {cssId:"_ngcontent-spo-c12",html:document.body.innerHTML.split('<!--scullyContent-begin-->')[1].split('<!--scullyContent-end-->')[0]};} catch(e) {console.error('scully could not parse content');}</script></div>
    <h3 _ngcontent-spo-c12="" class="post-date">
      <i _ngcontent-spo-c12="" class="fa fa-calendar-check-o"></i>
      This article was posted on Aug 27, 2017
      <span _ngcontent-spo-c12="">
        and was updated on Sep 6, 2017
      </span><!---->
    </h3>
  </article>
</div>
</app-blog><!----><div _ngcontent-spo-c7=""><p _ngcontent-spo-c7="" class="version">Version: 0.1.6</p></div></div><app-footer _ngcontent-spo-c7="" _nghost-spo-c6=""><div _ngcontent-spo-c6="" class="footer"><div _ngcontent-spo-c6="" class="author-container"><div _ngcontent-spo-c6="" class="author-card"><div _ngcontent-spo-c6="" class="title-image-container"><div _ngcontent-spo-c6="" class="title">Leif Wells</div><div _ngcontent-spo-c6="" class="author"><div _ngcontent-spo-c6="" class="author-image"></div></div></div><div _ngcontent-spo-c6="" class="blurb-container"><p _ngcontent-spo-c6=""> Leif Wells is a presenter, author, and Web &amp; mobile developer based in Atlanta. </p></div></div></div><div _ngcontent-spo-c6="" class="social-media-container"><app-social-media _ngcontent-spo-c6="" _nghost-spo-c5=""><div _ngcontent-spo-c5="" class="social-media"><ul _ngcontent-spo-c5="" class="social-icons"><li _ngcontent-spo-c5=""><a _ngcontent-spo-c5="" href="https://twitter.com/leifwells" class="social-icon"><i _ngcontent-spo-c5="" class="fa fa-twitter"></i></a></li><li _ngcontent-spo-c5=""><a _ngcontent-spo-c5="" href="https://www.linkedin.com/in/leifwells/" class="social-icon"><i _ngcontent-spo-c5="" class="fa fa-linkedin"></i></a></li><li _ngcontent-spo-c5=""><a _ngcontent-spo-c5="" href="https://github.com/leifwells" class="social-icon"><i _ngcontent-spo-c5="" class="fa fa-github"></i></a></li></ul></div></app-social-media></div><div _ngcontent-spo-c6="" class="copyright-container"><p _ngcontent-spo-c6=""> Copyright © Leif Wells, leifwells.github.io and leifwells.com, 2022. </p><p _ngcontent-spo-c6=""> Unauthorized use and/or duplication of this material without express and written permission from this site’s author and/or owner is strictly prohibited. Excerpts and links may be used, provided that full and clear credit is given to Leif Wells, leifwells.github.io and leifwells.com with appropriate and specific direction to the original content. </p></div></div></app-footer></div></app-main-nav></app-root>
  

</body></html>